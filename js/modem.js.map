{"version":3,"sources":["modem.js","slide-in.js","streamer.js","waveform.js","web-audio.js"],"names":["global","factory","define","amd","exports","require","mod","$","Streamer","SlideIn","modem","this","_jquery","_streamer","_slideIn","_interopRequireDefault","obj","__esModule","default","_$","_Streamer","_SlideIn","fn","streamer","options","each","index","element","undefined","data","slideIn","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_this","extend","defaults","$element","classes","$close","find","$toggle","attr","on","hasClass","open","hide","show","get","value","addClass","removeClass","WebAudio","Waveform","_webAudio","_waveform","_WebAudio","_Waveform","icons","labels","audio","$audio","wrap","class","wrapper","$wrapper","parent","$canvas","append","$button","button","type","aria-label","play","$icon","icon","bind","pause","playing","autoplay","waveform","stroke","width","color","canvas","stream","ratio","draw","signal","scale","window","context","getContext","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","ctx","height","w","h","r","lineWidth","strokeStyle","clearRect","beginPath","l","lineTo","closePath","webAudio","source","loaded","events","AudioContext","webkitAudioContext","createScriptProcessor","createJavascriptNode","processor","sampleSize","onaudioprocess","e","update","createGain","createGainNode","gain","Float32Array","readyState","oncanplay","connect","onplaying","onpause","_this2","buffers","channels","inputBuffer","numberOfChannels","resolution","push","getChannelData","_loop","reduce","prev","curr","trigger","createMediaElementSource","destination","event","callback","Reflect","deleteProperty","forEach"],"mappings":"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","file":"modem.js","sourcesContent":["import $ from 'jquery';\nimport Streamer from 'streamer';\nimport SlideIn from 'slide-in';\n\n// Expose the Streamer as a jQuery plugin.\n$.fn.streamer = function (options) {\n  return this.each((index, element) => {\n    if ($.data(element, 'streamer') === undefined) {\n      $.data(element, 'streamer', new Streamer(element, options));\n    }\n  });\n};\n\n$('[data-streamer]').streamer();\n\n$.fn.slideIn = function (options) {\n  return this.each((index, element) => {\n    if ($.data(element, 'slide-in') === undefined) {\n      $.data(element, 'slide-in', new SlideIn(element, options));\n    }\n  });\n};\n\n$('[data-slide-in]').slideIn();\n","import $ from 'jquery';\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class SlideIn {\n  /**\n   * Default Slide In options.\n   *\n   * @type {Object}\n   */\n  get defaults() {\n    return {\n      classes: {\n        open: 'is-open'\n      }\n    };\n  }\n\n  /**\n   * Initialize a Slide In.\n   *\n   * @param {Object} element The element to attach the Slide In to.\n   * @param {Object} options Custom configuration options.\n   */\n  constructor(element, options) {\n    this.options = $.extend(this.defaults, options);\n\n    this.$element = $(element);\n\n    const classes = this.options.classes;\n    const $close = this.$element.find('[data-slide-in-close]');\n    const $toggle = $(`[data-slide-in-toggle=${this.$element.attr('id')}]`);\n\n    $toggle.on('click', () => {\n      if (this.$element.hasClass(classes.open)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    });\n\n    $close.on('click', () => {\n      if (this.$element.hasClass(classes.open)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    });\n  }\n\n  /**\n   * Show the Slide In.\n   */\n  show() {\n    this.$element.addClass(this.options.classes.open);\n  }\n\n  /**\n   * Hide the Slide In.\n   */\n  hide() {\n    this.$element.removeClass(this.options.classes.open);\n  }\n}\n","import $ from 'jquery';\nimport WebAudio from 'web-audio';\nimport Waveform from 'waveform';\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class Streamer {\n  /**\n   * Default Streamer options.\n   *\n   * @type {Object}\n   */\n  get defaults() {\n    return {\n      stroke: {\n        width: 2,\n        color: '#666'\n      },\n      classes: {\n        wrapper: 'streamer',\n        button: 'streamer-button',\n        icon: 'streamer-icon'\n      },\n      icons: {\n        play: 'ion-play',\n        pause: 'ion-pause'\n      },\n      labels: {\n        play: 'Continue playing',\n        pause: 'Stop playing'\n      }\n    };\n  }\n\n  /**\n   * Initialize a Streamer.\n   *\n   * @param {Audio}   element The <audio> element to attach the Streamer to.\n   * @param {Object}  options Custom configuration options.\n   */\n  constructor(element, options) {\n    this.options = $.extend(this.defaults, options);\n\n    const classes = this.options.classes;\n    const icons = this.options.icons;\n    const labels = this.options.labels;\n\n    this.audio = new WebAudio(element);\n    this.$audio = $(element);\n\n    this.$audio.wrap($('<div />', {\n      class: classes.wrapper\n    }));\n\n    this.$wrapper = this.$audio.parent();\n    this.$canvas = $('<canvas />');\n    this.$wrapper.append(this.$canvas);\n\n    this.$button = $('<button />', {\n      'class': classes.button,\n      'type': 'button',\n      'aria-label': labels.play\n    });\n    this.$wrapper.append(this.$button);\n\n    this.$icon = $('<span />', {\n      class: `${classes.icon} ${classes.icon}-play ${icons.play}`\n    });\n    this.$button.append(this.$icon);\n\n    this.audio.bind('play', () => {\n      this.$button.attr('aria-label', labels.pause);\n      this.$icon.removeClass(`${classes.icon}-play ${icons.play}`);\n      this.$icon.addClass(`${classes.icon}-pause ${icons.pause}`);\n      this.$wrapper.addClass('is-playing');\n    });\n\n    this.audio.bind('pause', () => {\n      this.$button.attr('aria-label', labels.play);\n      this.$icon.removeClass(`${classes.icon}-pause ${icons.pause}`);\n      this.$icon.addClass(`${classes.icon}-play ${icons.play}`);\n      this.$wrapper.removeClass('is-playing');\n    });\n\n    this.$button.on('click', () => {\n      if (this.audio.playing) {\n        this.audio.pause();\n      } else {\n        this.audio.play();\n      }\n    });\n\n    if (element.autoplay) {\n      this.audio.play();\n    }\n\n    this.waveform = new Waveform(this.$canvas[0], this.audio, {\n      stroke: this.options.stroke\n    });\n  }\n}\n","import $ from 'jquery';\n\n/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class Waveform {\n  /**\n   * Initialize a waveform.\n   *\n   * @param {HTMLCanvasElement} canvas  The canvas on which to draw the waveform.\n   * @param {Stream}            stream  The stream to use for constructing the waveform.\n   * @param {Object}            options Configuration options.\n   * @constructor\n   */\n  constructor(canvas, stream, options) {\n    const ratio = this.ratio(canvas);\n    const draw = () => {\n      this.draw(stream.signal, canvas, ratio, options);\n    };\n    const scale = () => {\n      this.scale(canvas, ratio);\n      draw();\n    };\n\n    scale();\n    $(window).on('resize', () => scale());\n    stream.bind('update', () => draw());\n  }\n\n  /**\n   * Get the ratio between the device pixel ratio and the backing store pixel\n   * ratio of the canvas being drawn on.\n   *\n   * @param   {HTMLCanvasElement} canvas  The canvas for which to calculate the\n   *                                      pixel ratio.\n   * @return  {Number}                    The canvas pixel ratio.\n   */\n  ratio(canvas) {\n    const context = canvas.getContext('2d');\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    const backingStoreRatio = context.webkitBackingStorePixelRatio ||\n                              context.mozBackingStorePixelRatio ||\n                              context.msBackingStorePixelRatio ||\n                              context.oBackingStorePixelRatio ||\n                              context.backingStorePixelRatio || 1;\n\n    return devicePixelRatio / backingStoreRatio;\n  }\n\n  /**\n   * Scale the canvas according to a specified ratio.\n   *\n   * @param {HTMLCanvasElement} canvas  The canvas to scale.\n   * @param {Number}            ratio   The ratio with which to scale the\n   *                                    canvas.\n   */\n  scale(canvas, ratio) {\n    const ctx = canvas.getContext('2d');\n    const $canvas = $(canvas);\n\n    if (ratio !== 1) {\n      const width = $canvas.width();\n      const height = $canvas.height();\n\n      canvas.width = width * ratio;\n      canvas.height = height * ratio;\n\n      ctx.scale(ratio, ratio);\n    }\n  }\n\n  /**\n   * Draw the waveform on the canvas.\n   *\n   * @param {Array}             signal  The waveform signal to draw.\n   * @param {HTMLCanvasElement} canvas  The canvas on which to draw the\n   *                                    waveform.\n   * @param {Number}            ratio   The pixel ratio to draw at.\n   * @param {Object}            options Configuration options.\n   */\n  draw(signal, canvas, ratio, options) {\n    const ctx = canvas.getContext('2d');\n    const w = canvas.width;\n    const h = canvas.height;\n    const r = ratio;\n\n    options = options || {};\n\n    ctx.lineWidth = options.stroke.width;\n    ctx.strokeStyle = options.stroke.color;\n\n    ctx.clearRect(0, 0, w, h);\n    ctx.beginPath();\n\n    for (let i = 0, l = signal.length; i < l; i++) {\n      ctx.lineTo(i * (w / l), h / (2 * r) + signal[i] * (h / (2 * r)));\n    }\n\n    ctx.stroke();\n    ctx.closePath();\n  }\n}\n","/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class WebAudio {\n  /**\n   * Audio sample size.\n   *\n   * @type {Number}\n   */\n  get sampleSize() {\n    return 2048;\n  }\n\n  /**\n   * Initialize web audio.\n   *\n   * @param {Object} source The <audio> source element.\n   */\n  constructor(source) {\n    this.loaded = false;\n    this.events = {};\n\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n\n    this.context = new AudioContext();\n    this.audio = source;\n\n    if (!this.context.createScriptProcessor) {\n      this.context.createScriptProcessor = this.context.createJavascriptNode;\n    }\n\n    this.processor = this.context.createScriptProcessor(\n      this.sampleSize / 2, 1, 1\n    );\n\n    this.processor.onaudioprocess = e => this.update(e);\n\n    if (!this.context.createGain) {\n      this.context.createGain = this.context.createGainNode;\n    }\n\n    this.gain = this.context.createGain();\n    this.signal = new Float32Array(this.sampleSize / 2);\n\n    if (this.audio.readyState < 3) {\n      this.audio.oncanplay = () => this.connect();\n    } else {\n      this.connect();\n    }\n\n    this.audio.onplaying = () => this.play();\n    this.audio.onpause = () => this.pause();\n  }\n\n  /**\n   * Executed when audio is processed by the script processor.\n   *\n   * @param {Object} e The audio processing event.\n   */\n  update(e) {\n    if (!this.loaded || !this.playing) {\n      return;\n    }\n\n    const buffers = [];\n    const channels = e.inputBuffer.numberOfChannels;\n    const resolution = this.sampleSize / channels;\n\n    for (let i = channels - 1; i >= 0; i--) {\n      buffers.push(e.inputBuffer.getChannelData(i));\n    }\n\n    for (let i = 0; i < resolution; i++) {\n      if (channels > 1) {\n        this.signal[i] = buffers.reduce((prev, curr) => prev[i] + curr[i]) / channels;\n      } else {\n        this.signal[i] = buffers[0][i];\n      }\n    }\n\n    this.trigger('update');\n  }\n\n  /**\n   * Hook up the audio source with other nodes.\n   */\n  connect() {\n    this.source = this.context.createMediaElementSource(this.audio);\n    this.source.connect(this.processor);\n    this.source.connect(this.gain);\n\n    this.gain.connect(this.context.destination);\n    this.processor.connect(this.context.destination);\n\n    this.loaded = true;\n    this.trigger('loaded');\n  }\n\n  /**\n   * Start playing the audio.\n   */\n  play() {\n    if (this.playing || !this.audio) {\n      return;\n    }\n\n    this.playing = true;\n    this.trigger('play');\n    this.audio.play();\n  }\n\n  /**\n   * Pause the audio.\n   */\n  pause() {\n    if (!this.playing || !this.audio) {\n      return;\n    }\n\n    this.playing = false;\n    this.trigger('pause');\n    this.audio.pause();\n  }\n\n  /**\n   * Bind a callback to an event of the audio.\n   *\n   * @param {String}    event     The name of the event to bind to.\n   * @param {Function}  callback  The callback to bind.\n   */\n  bind(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(callback);\n\n    return this;\n  }\n\n  /**\n   * Unbind an event bound to the specified name.\n   *\n   * @param {String} event The name of the event to unbind.\n   */\n  unbind(event) {\n    if (this.events[event]) {\n      Reflect.deleteProperty(this.events[event]);\n    }\n\n    return this;\n  }\n\n  /**\n   * The the specified event.\n   *\n   * @param {String} event The event to trigger.\n   */\n  trigger(event) {\n    if (this.events[event]) {\n      this.events[event].forEach(callback => callback());\n    }\n\n    return this;\n  }\n}\n"],"sourceRoot":"/src/js"}