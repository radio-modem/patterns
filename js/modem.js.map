{"version":3,"sources":["modem.js","web-audio.js","waveform.js","streamer.js","slide-in.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","define","$","WebAudio","source","_this","this","loaded","events","AudioContext","window","webkitAudioContext","context","audio","createScriptProcessor","createJavascriptNode","processor","sampleSize","onaudioprocess","e","update","createGain","createGainNode","gain","signal","Float32Array","readyState","oncanplay","connect","onplaying","play","onpause","pause","get","value","_this2","playing","buffers","channels","inputBuffer","numberOfChannels","resolution","push","getChannelData","_loop","reduce","prev","curr","trigger","createMediaElementSource","destination","event","callback","Reflect","deleteProperty","forEach","Waveform","canvas","stream","options","_this3","extend","defaults","ratio","draw","scale","on","bind","stroke","width","color","getContext","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","ctx","$canvas","height","w","h","r","l","lineWidth","strokeStyle","clearRect","beginPath","lineTo","closePath","Streamer","element","_this4","addEventListener","onError","_options","classes","icons","labels","$audio","wrap","class","wrapper","$wrapper","parent","append","$button","button","type","aria-label","$icon","icon","onPlay","onPause","onButtonClick","autoplay","waveform","error","_options2","attr","removeClass","addClass","_options3","load","SlideIn","_this5","$element","$close","find","$toggle","hasClass","open","hide","show","fn","streamer","each","index","undefined","data","slideIn"],"mappings":"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","file":"modem.js","sourcesContent":["import $ from 'jquery';\nimport Streamer from './streamer';\nimport SlideIn from './slide-in';\n\n// Expose the Streamer as a jQuery plugin.\n$.fn.streamer = function (options) {\n  return this.each((index, element) => {\n    if ($.data(element, 'streamer') === undefined) {\n      $.data(element, 'streamer', new Streamer(element, options));\n    }\n  });\n};\n\n$('[data-streamer]').streamer();\n\n$.fn.slideIn = function (options) {\n  return this.each((index, element) => {\n    if ($.data(element, 'slide-in') === undefined) {\n      $.data(element, 'slide-in', new SlideIn(element, options));\n    }\n  });\n};\n\n$('[data-slide-in]').slideIn();\n","/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class WebAudio {\n  /**\n   * Audio sample size.\n   *\n   * @type {Number}\n   */\n  get sampleSize() {\n    return 2048;\n  }\n\n  /**\n   * Initialize web audio.\n   *\n   * @param {Object} source The <audio> source element.\n   */\n  constructor(source) {\n    this.loaded = false;\n    this.events = {};\n\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n\n    this.context = new AudioContext();\n    this.audio = source;\n\n    if (!this.context.createScriptProcessor) {\n      this.context.createScriptProcessor = this.context.createJavascriptNode;\n    }\n\n    this.processor = this.context.createScriptProcessor(\n      this.sampleSize / 2, 1, 1\n    );\n\n    this.processor.onaudioprocess = e => this.update(e);\n\n    if (!this.context.createGain) {\n      this.context.createGain = this.context.createGainNode;\n    }\n\n    this.gain = this.context.createGain();\n    this.signal = new Float32Array(this.sampleSize / 2);\n\n    if (this.audio.readyState < 3) {\n      this.audio.oncanplay = () => this.connect();\n    } else {\n      this.connect();\n    }\n\n    this.audio.onplaying = () => this.play();\n    this.audio.onpause = () => this.pause();\n  }\n\n  /**\n   * Executed when audio is processed by the script processor.\n   *\n   * @param {Object} e The audio processing event.\n   */\n  update(e) {\n    if (!this.loaded || !this.playing) {\n      return;\n    }\n\n    const buffers = [];\n    const channels = e.inputBuffer.numberOfChannels;\n    const resolution = this.sampleSize / channels;\n\n    for (let i = channels - 1; i >= 0; i--) {\n      buffers.push(e.inputBuffer.getChannelData(i));\n    }\n\n    for (let i = 0; i < resolution; i++) {\n      if (channels > 1) {\n        this.signal[i] = buffers.reduce((prev, curr) => prev[i] + curr[i]) / channels;\n      } else {\n        this.signal[i] = buffers[0][i];\n      }\n    }\n\n    this.trigger('update');\n  }\n\n  /**\n   * Hook up the audio source with other nodes.\n   */\n  connect() {\n    this.source = this.context.createMediaElementSource(this.audio);\n    this.source.connect(this.processor);\n    this.source.connect(this.gain);\n\n    this.gain.connect(this.context.destination);\n    this.processor.connect(this.context.destination);\n\n    this.loaded = true;\n    this.trigger('loaded');\n  }\n\n  /**\n   * Start playing the audio.\n   */\n  play() {\n    if (this.playing || !this.audio) {\n      return;\n    }\n\n    this.playing = true;\n    this.trigger('play');\n    this.audio.play();\n  }\n\n  /**\n   * Pause the audio.\n   */\n  pause() {\n    if (!this.playing || !this.audio) {\n      return;\n    }\n\n    this.playing = false;\n    this.trigger('pause');\n    this.audio.pause();\n  }\n\n  /**\n   * Bind a callback to an event of the audio.\n   *\n   * @param {String}    event     The name of the event to bind to.\n   * @param {Function}  callback  The callback to bind.\n   */\n  bind(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(callback);\n\n    return this;\n  }\n\n  /**\n   * Unbind an event bound to the specified name.\n   *\n   * @param {String} event The name of the event to unbind.\n   */\n  unbind(event) {\n    if (this.events[event]) {\n      Reflect.deleteProperty(this.events[event]);\n    }\n\n    return this;\n  }\n\n  /**\n   * The the specified event.\n   *\n   * @param {String} event The event to trigger.\n   */\n  trigger(event) {\n    if (this.events[event]) {\n      this.events[event].forEach(callback => callback());\n    }\n\n    return this;\n  }\n}\n","import $ from 'jquery';\n\n/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class Waveform {\n  /**\n   * Default Waveform options.\n   *\n   * @type {Object}\n   */\n  static get defaults() {\n    return {\n      stroke: {\n        width: 2,\n        color: '#666'\n      }\n    };\n  }\n\n  /**\n   * Initialize a waveform.\n   *\n   * @param {HTMLCanvasElement} canvas  The canvas on which to draw the waveform.\n   * @param {Stream}            stream  The stream to use for constructing the waveform.\n   * @param {Object}            options Configuration options.\n   * @constructor\n   */\n  constructor(canvas, stream, options) {\n    this.options = $.extend(Waveform.defaults, options);\n\n    const ratio = this.ratio(canvas);\n    const draw = () => {\n      this.draw(stream.signal, canvas, ratio);\n    };\n    const scale = () => {\n      this.scale(canvas, ratio);\n      draw();\n    };\n\n    scale();\n    $(window).on('resize', () => scale());\n    stream.bind('update', () => draw());\n  }\n\n  /**\n   * Get the ratio between the device pixel ratio and the backing store pixel\n   * ratio of the canvas being drawn on.\n   *\n   * @param   {HTMLCanvasElement} canvas  The canvas for which to calculate the\n   *                                      pixel ratio.\n   * @return  {Number}                    The canvas pixel ratio.\n   */\n  ratio(canvas) {\n    const context = canvas.getContext('2d');\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    const backingStoreRatio =\n      context.webkitBackingStorePixelRatio ||\n      context.mozBackingStorePixelRatio ||\n      context.msBackingStorePixelRatio ||\n      context.oBackingStorePixelRatio ||\n      context.backingStorePixelRatio ||\n      1;\n\n    return devicePixelRatio / backingStoreRatio;\n  }\n\n  /**\n   * Scale the canvas according to a specified ratio.\n   *\n   * @param {HTMLCanvasElement} canvas  The canvas to scale.\n   * @param {Number}            ratio   The ratio with which to scale the\n   *                                    canvas.\n   */\n  scale(canvas, ratio) {\n    const ctx = canvas.getContext('2d');\n    const $canvas = $(canvas);\n\n    if (ratio !== 1) {\n      const width = $canvas.width();\n      const height = $canvas.height();\n\n      canvas.width = width * ratio;\n      canvas.height = height * ratio;\n\n      ctx.scale(ratio, ratio);\n    }\n  }\n\n  /**\n   * Draw the waveform on the canvas.\n   *\n   * @param {Array}             signal  The waveform signal to draw.\n   * @param {HTMLCanvasElement} canvas  The canvas on which to draw the\n   *                                    waveform.\n   * @param {Number}            ratio   The pixel ratio to draw at.\n   */\n  draw(signal, canvas, ratio) {\n    const ctx = canvas.getContext('2d');\n    const w = canvas.width;\n    const h = canvas.height;\n    const r = ratio;\n    const l = signal.length;\n\n    ctx.lineWidth = this.options.stroke.width;\n    ctx.strokeStyle = this.options.stroke.color;\n\n    ctx.clearRect(0, 0, w, h);\n    ctx.beginPath();\n\n    for (let i = 0; i < l; i++) {\n      ctx.lineTo(i * (w / l), h / (2 * r) + signal[i] * (h / (2 * r)));\n    }\n\n    ctx.stroke();\n    ctx.closePath();\n  }\n}\n","import $ from 'jquery';\nimport WebAudio from './web-audio';\nimport Waveform from './waveform';\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class Streamer {\n  /**\n   * Default Streamer options.\n   *\n   * @type {Object}\n   */\n  static get defaults() {\n    return {\n      classes: {\n        wrapper: 'streamer',\n        button: 'streamer-button',\n        icon: 'streamer-icon'\n      },\n      icons: {\n        play: 'ion-play',\n        pause: 'ion-pause',\n        error: 'ion-alert'\n      },\n      labels: {\n        play: 'Continue playing',\n        pause: 'Stop playing'\n      }\n    };\n  }\n\n  /**\n   * Initialize a Streamer.\n   *\n   * @param {Audio}   element The <audio> element to attach the Streamer to.\n   * @param {Object}  options Custom configuration options.\n   */\n  constructor(element, options) {\n    this.options = $.extend(Streamer.defaults, options);\n\n    element.addEventListener('error', e => this.onError(e), true);\n\n    const {classes, icons, labels} = this.options;\n\n    this.audio = new WebAudio(element);\n    this.$audio = $(element);\n\n    this.$audio.wrap($('<div />', {\n      class: classes.wrapper\n    }));\n\n    this.$wrapper = this.$audio.parent();\n    this.$canvas = $('<canvas />');\n    this.$wrapper.append(this.$canvas);\n\n    this.$button = $('<button />', {\n      'class': classes.button,\n      'type': 'button',\n      'aria-label': labels.play\n    });\n    this.$wrapper.append(this.$button);\n\n    this.$icon = $('<span />', {\n      class: `${classes.icon} ${classes.icon}-play ${icons.play}`\n    });\n    this.$button.append(this.$icon);\n\n    this.audio.bind('play', () => this.onPlay());\n    this.audio.bind('pause', () => this.onPause());\n    this.$button.on('click', () => this.onButtonClick());\n\n    if (element.autoplay) {\n      this.audio.play();\n    }\n\n    this.waveform = new Waveform(this.$canvas[0], this.audio, this.options.waveform);\n  }\n\n  onPlay() {\n    const {labels, icons, classes} = this.options;\n\n    this.$button.attr('aria-label', labels.pause);\n    this.$icon.removeClass(`${classes.icon}-play ${icons.play}`);\n    this.$icon.addClass(`${classes.icon}-pause ${icons.pause}`);\n    this.$wrapper.addClass('is-playing');\n  }\n\n  onPause() {\n    const {labels, icons, classes} = this.options;\n\n    this.$button.attr('aria-label', labels.play);\n    this.$icon.removeClass(`${classes.icon}-pause ${icons.pause}`);\n    this.$icon.addClass(`${classes.icon}-play ${icons.play}`);\n    this.$wrapper.removeClass('is-playing');\n  }\n\n  onButtonClick() {\n    if (this.error) {\n      this.$audio[0].load();\n    }\n\n    if (this.audio.playing) {\n      this.audio.pause();\n    } else {\n      this.audio.play();\n    }\n  }\n\n  onError(e) {\n    this.error = e;\n    this.audio.pause();\n  }\n}\n","import $ from 'jquery';\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nexport default class SlideIn {\n  /**\n   * Default Slide In options.\n   *\n   * @type {Object}\n   */\n  get defaults() {\n    return {\n      classes: {\n        open: 'is-open'\n      }\n    };\n  }\n\n  /**\n   * Initialize a Slide In.\n   *\n   * @param {Object} element The element to attach the Slide In to.\n   * @param {Object} options Custom configuration options.\n   */\n  constructor(element, options) {\n    this.options = $.extend(this.defaults, options);\n\n    this.$element = $(element);\n\n    const classes = this.options.classes;\n    const $close = this.$element.find('[data-slide-in-close]');\n    const $toggle = $(`[data-slide-in-toggle=${this.$element.attr('id')}]`);\n\n    $toggle.on('click', () => {\n      if (this.$element.hasClass(classes.open)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    });\n\n    $close.on('click', () => {\n      if (this.$element.hasClass(classes.open)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    });\n  }\n\n  /**\n   * Show the Slide In.\n   */\n  show() {\n    this.$element.addClass(this.options.classes.open);\n  }\n\n  /**\n   * Hide the Slide In.\n   */\n  hide() {\n    this.$element.removeClass(this.options.classes.open);\n  }\n}\n"],"sourceRoot":"/src/js"}