{"version":3,"sources":["modem.js","streamer.js","streamer/adapter.js","streamer/stream.js","streamer/waveform.js","streamer/adapter/flash.js","streamer/adapter/web-audio.js"],"names":["global","factory","define","amd","exports","require","mod","$","Streamer","modem","this","_jquery","_streamer","_interopRequire","obj","__esModule","_$","_Streamer","fn","streamer","options","each","undefined","data","module","Stream","Waveform","_streamerStream","_streamerWaveform","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_Stream","_Waveform","element","_this","extend","defaults","classes","icons","audio","$audio","stream","wrap","class","wrapper","$wrapper","parent","$canvas","append","$button","button","type","$icon","icon","play","bind","removeClass","addClass","pause","on","playing","autoplay","waveform","stroke","get","width","color","streamerAdapter","Adapter","loaded","progress","events","value","trigger","event","callback","push","forEach","Flash","WebAudio","streamerStream","_streamerAdapterFlash","_streamerAdapterWebAudio","_Flash","_WebAudio","source","signal","unbind","window","AudioContext","streamerWaveform","canvas","ratio","draw","scale","context","getContext","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","height","w","h","r","lineWidth","strokeStyle","clearRect","beginPath","l","lineTo","closePath","streamerAdapterFlash","_streamerAdapter","_get","object","property","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","call","_inherits","subClass","superClass","create","constructor","__proto__","_Adapter2","_Adapter","path","src","find","wave_L","wave_R","Float32Array","sampleSize","loadSoundManager","soundManager","createSound","url","autoLoad","whileplaying","update","whileloading","bytesLoaded","bytesTotal","onload","onplay","onresume","onpause","onfinish","waveformData","left","right","avg","j","parseFloat","js","swf","done","SM2_DEFER","ajax","dataType","cache","soundManagerPath","success","lib","SoundManager","flashVersion","flash9Options","useWaveformData","preferFlash","useHTML5Audio","useHighPerformance","useFastPolling","multiShot","debugMode","debugFlash","beginDelayedInit","onready","streamerAdapterWebAudio","createScriptProcessor","createJavascriptNode","processor","onaudioprocess","e","createGain","createGainNode","gain","readyState","oncanplay","connect","onprogress","currentTarget","duration","seekable","end","onplaying","_this2","buffers","channels","inputBuffer","numberOfChannels","resolution","getChannelData","_loop","reduce","prev","curr","createMediaElementSource","destination"],"mappings":"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","file":"modem.js","sourcesContent":["import $ from \"jquery\"\nimport Streamer from \"streamer\"\n\n$.fn.streamer = function (options) {\n  return this.each(function () {\n    if ($.data(this, \"streamer\") === undefined) {\n      $.data(this, \"streamer\", new Streamer(this, options))\n    }\n  })\n}\n\n$(\"[data-streamer]\").streamer()\n","import $ from \"jquery\";\n\nimport Stream from \"streamer/stream\"\nimport Waveform from \"streamer/waveform\"\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass Streamer {\n  /**\n   * Default Streamer options.\n   *\n   * @type {object}\n   */\n  get defaults () {\n    return {\n      stroke: {\n        width: 2\n      , color: \"#666\"\n      }\n    , classes: {\n        wrapper: \"streamer\"\n      , button: \"streamer-button\"\n      , icon: \"streamer-icon\"\n      }\n    , icons: {\n        play: \"ion-play\"\n      , pause: \"ion-pause\"\n      }\n    }\n  }\n\n  /**\n   * Initialize a Streamer.\n   *\n   * @param {object} element The <audio> element to attach the Streamer to.\n   * @param {object} options Custom configuration options.\n   */\n  constructor (element, options) {\n    this.options = $.extend(this.defaults, options)\n\n    let classes = this.options.classes\n    let icons = this.options.icons\n\n    this.audio = element\n    this.$audio = $(this.audio)\n\n    this.stream = new Stream(this.audio)\n\n    this.$audio.wrap($(\"<div />\", {\n      \"class\": classes.wrapper\n    }))\n\n    this.$wrapper = this.$audio.parent()\n\n    this.$canvas = $(\"<canvas />\")\n    this.$wrapper.append(this.$canvas)\n\n    this.$button = $(\"<button />\", {\n      \"class\": classes.button\n    , \"type\": \"button\"\n    })\n    this.$wrapper.append(this.$button)\n\n    this.$icon = $(\"<span />\", {\n      \"class\": `${classes.icon} ${classes.icon}-play ${icons.play}`\n    })\n    this.$button.append(this.$icon)\n\n    this.stream.bind(\"play\", () => {\n      this.$icon.removeClass(`${classes.icon}-play ${icons.play}`)\n      this.$icon.addClass(`${classes.icon}-pause ${icons.pause}`)\n      this.$wrapper.addClass(\"is-playing\")\n    })\n\n    this.stream.bind(\"pause\", () => {\n      this.$icon.removeClass(`${classes.icon}-pause ${icons.pause}`)\n      this.$icon.addClass(`${classes.icon}-play ${icons.play}`)\n      this.$wrapper.removeClass(\"is-playing\")\n    })\n\n    this.$button.on(\"click\", () => {\n      if (this.stream.playing) {\n        this.stream.pause()\n      }\n      else {\n        this.stream.play()\n      }\n    })\n\n    if (element.autoplay) {\n      this.stream.play()\n    }\n\n    this.waveform = new Waveform(this.$canvas[0], this.stream, {\n      stroke: this.options.stroke\n    })\n  }\n}\n\nexport default Streamer;\n","/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass Adapter {\n  constructor () {\n    this.loaded = false\n    this.progress = 0\n    this.events = {}\n  }\n\n  play () {\n    if (this.playing) return\n\n    this.playing = true\n    this.trigger(\"play\")\n    this.audio.play()\n  }\n\n  pause () {\n    if (!this.playing) return\n\n    this.playing = false\n    this.trigger(\"pause\")\n    this.audio.pause()\n  }\n\n  update () {\n    this.trigger(\"update\")\n  }\n\n  bind (event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = []\n    }\n\n    this.events[event].push(callback)\n\n    return this\n  }\n\n  unbind (event) {\n    if (this.events[event]) {\n      delete this.events[event]\n    }\n\n    return this\n  }\n\n  trigger (event) {\n    if (this.events[event]) {\n      this.events[event].forEach((callback) => callback())\n    }\n\n    return this\n  }\n}\n\nexport default Adapter\n","import Flash from \"streamer/adapter/flash\"\nimport WebAudio from \"streamer/adapter/web-audio\"\n\n/**\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass Stream {\n  /**\n   * Detect support for different APIs and return the appropriate audio\n   * adapter.\n   *\n   * This enables easy access to the different adapters:\n   *\n   *   new Streamer.Adapter(source)\n   *\n   * @return {Adapter} The Adapter constructor for the supported API.\n   */\n  static get Adapter () {\n    if (window.AudioContext) {\n      return WebAudio\n    }\n    else {\n      return Flash\n    }\n  }\n\n  /**\n   * @constructor\n   */\n  constructor (source) {\n    this.audio = new Stream.Adapter(source)\n  }\n\n  /**\n   * @type {Array}\n   */\n  get signal () {\n    return this.audio.signal\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get playing () {\n    return this.audio.playing\n  }\n\n  play () {\n    this.audio.play()\n  }\n\n  pause () {\n    this.audio.pause()\n  }\n\n  bind (event, callback) {\n    this.audio.bind(event, callback)\n  }\n\n  unbind (event) {\n    this.audio.unbind(event)\n  }\n\n  trigger (event) {\n    this.audio.trigger(event)\n  }\n}\n\nexport default Stream\n","import $ from \"jquery\"\n\n/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass Waveform {\n  /**\n   * Initialize a waveform.\n   *\n   * @param {Object} canvas   The canvas on which to draw the waveform.\n   * @param {Stream} stream   The stream to use for constructing the waveform.\n   * @param {Object} options  Configuration options.\n   * @constructor\n   */\n  constructor (canvas, stream, options) {\n    let ratio = this.ratio(canvas)\n      , draw = () => {\n          this.draw(stream.signal, canvas, ratio, options)\n        }\n      , scale = () => {\n          this.scale(canvas, ratio)\n          draw()\n        }\n\n    scale()\n    $(window).on('resize', () => scale())\n    stream.bind('update', () => draw())\n  }\n\n  /**\n   * Get the ratio between the device pixel ratio and the backing store pixel\n   * ratio of the canvas being drawn on.\n   *\n   * @param   {Object} canvas The canvas for which to calculate the pixel ratio.\n   * @return  {Number}        The canvas pixel ratio.\n   */\n  ratio (canvas) {\n    let context = canvas.getContext(\"2d\")\n      , devicePixelRatio = window.devicePixelRatio || 1\n      , backingStoreRatio = context.webkitBackingStorePixelRatio ||\n                            context.mozBackingStorePixelRatio ||\n                            context.msBackingStorePixelRatio ||\n                            context.oBackingStorePixelRatio ||\n                            context.backingStorePixelRatio || 1\n\n    return devicePixelRatio / backingStoreRatio\n  }\n\n  /**\n   * Scale the canvas according to a specified ratio.\n   *\n   * @param {Number} ratio The ratio with which to scale the canvas.\n   */\n  scale (canvas, ratio) {\n    let context = canvas.getContext(\"2d\")\n      , $canvas = $(canvas)\n\n    if (ratio !== 1) {\n      let width = $canvas.width()\n        , height = $canvas.height()\n\n      canvas.width = width * ratio\n      canvas.height = height * ratio\n\n      context.scale(ratio, ratio)\n    }\n  }\n\n  /**\n   * Draw the waveform on the canvas.\n   *\n   * @param {Array}   signal  The waveform signal to draw.\n   * @param {Object}  canvas  The canvas on which to draw the waveform.\n   * @param {Number}  ratio   The pixel ratio to draw at.\n   * @param {Object}  options Configuration options.\n   */\n  draw (signal, canvas, ratio, options) {\n    let context = canvas.getContext(\"2d\")\n      , w = canvas.width\n      , h = canvas.height\n      , r = ratio\n\n    options = options || {}\n\n    context.lineWidth = options.stroke.width\n    context.strokeStyle = options.stroke.color\n\n    context.clearRect(0, 0, w, h)\n    context.beginPath()\n\n    for (let i = 0, l = signal.length; i < l; i++) {\n      context.lineTo(i * (w / l), (h / (2 * r)) + signal[i] * (h / (2 * r)))\n    }\n\n    context.stroke();\n    context.closePath();\n  }\n}\n\nexport default Waveform\n","import $ from \"jquery\"\n\nimport Adapter from \"streamer/adapter\"\n\n/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass Flash extends Adapter {\n  static get soundManagerPath () {\n    return {\n      js: \"lib/soundmanager2.js\"\n    , swf: \"lib/soundmanager2.swf\"\n    }\n  }\n\n  static loadSoundManager (done) {\n    window.SM2_DEFER = true\n\n    $.ajax({\n      dataType: \"script\"\n    , cache: true\n    , url: Flash.soundManagerPath.js\n    , success: () => {\n        require([\"SoundManager\"], (lib) => {\n          let { SoundManager } = lib\n\n          if (!Flash.soundManager) {\n            Flash.soundManager = new SoundManager()\n\n            $.extend(true, Flash.soundManager, {\n              flashVersion: 9\n            , flash9Options: {\n                useWaveformData: true\n              }\n            , preferFlash: true\n            , useHTML5Audio: false\n            , useWaveformData: true\n            , useHighPerformance: true\n            , useFastPolling: true\n            , multiShot: false\n            , debugMode: false\n            , debugFlash: false\n            , url: Flash.soundManagerPath.swf\n            })\n\n            Flash.soundManager.beginDelayedInit()\n          }\n\n          // Expose the Sound Manager instance globally so that Flash can attach\n          // to it.\n          window.soundManager = Flash.soundManager\n\n          Flash.soundManager.onready(() => done())\n        })\n      }\n    })\n  }\n\n  get sampleSize () {\n    return 1024\n  }\n\n  get sampleRate () {\n    return 44100\n  }\n\n  constructor (source) {\n    super()\n\n    this.source = source\n\n    let path = this.source.src || $(this.source).find(\n      \"source[src$=mp3], source[src$=mp4], source[src$=m4a]\"\n    )[0].src\n\n    this.wave_L = []\n    this.wave_R = []\n    this.signal = new Float32Array(this.sampleSize)\n\n    Flash.loadSoundManager(() => {\n      this.audio = Flash.soundManager.createSound({\n        url: path\n      , stream: true\n      , autoLoad: true\n      , whileplaying: () => {\n          this.update()\n        }\n      , whileloading: () => {\n          this.progress = this.bytesLoaded / this.bytesTotal\n        }\n      , onload: () => {\n          this.loaded = true\n          this.progress = 1\n          this.trigger(\"loaded\")\n        }\n      , onplay: () => this.play()\n      , onresume: () => this.play()\n      , onpause: () => this.pause()\n      , onfinish: () => this.pause()\n      })\n    })\n  }\n\n  update () {\n    if (!this.loaded && !this.playing) {\n      return\n    }\n\n    this.wave_L = this.audio.waveformData.left;\n    this.wave_R = this.audio.waveformData.right;\n\n    let avg;\n\n    for (let i = 0, j = this.wave_L.length; i < j; i++) {\n      avg = parseFloat(this.wave_L[i]) + parseFloat(this.wave_R[i]);\n\n      this.signal[2 * i] = avg / 2;\n      this.signal[i * 2 + 1] = avg / 2;\n    }\n\n    super.update()\n  }\n}\n\nexport default Flash\n","import Adapter from \"streamer/adapter\"\n\n/**\n * Based on Dancer.js (https://github.com/jsantell/dancer.js).\n *\n * @author Kasper Kronborg Isager <kasperisager@gmail.com>\n */\nclass WebAudio extends Adapter {\n  /**\n   * Audio sample size.\n   *\n   * @type {Number}\n   */\n  get sampleSize () {\n    return 2048\n  }\n\n  /**\n   * Initialize Web Audio adapter.\n   *\n   * @param {Object} source The <audio> source element.\n   */\n  constructor (source) {\n    super()\n\n    let { AudioContext } = window\n\n    this.context = new AudioContext()\n\n    this.audio = source\n\n    if (!this.context.createScriptProcessor) {\n      this.context.createScriptProcessor = this.context.createJavascriptNode\n    }\n\n    this.processor = this.context.createScriptProcessor(\n      this.sampleSize / 2, 1, 1\n    )\n\n    this.processor.onaudioprocess = (e) => this.update(e)\n\n    if (!this.context.createGain) {\n      this.context.createGain = this.context.createGainNode\n    }\n\n    this.gain = this.context.createGain()\n\n    this.signal = new Float32Array(this.sampleSize / 2)\n\n    if (this.audio.readyState < 3) {\n      this.audio.oncanplay = () => this.connect()\n    }\n    else {\n      this.connect()\n    }\n\n    this.audio.onprogress = (e) => {\n      let target = e.currentTarget\n\n      if (target.duration) {\n        this.progress = target.seekable.end(0) / target.duration\n      }\n    }\n\n    this.audio.onplaying = () => this.play()\n    this.audio.onpause = () => this.pause()\n  }\n\n  /**\n   * Executed when audio is processed by the script processor.\n   *\n   * @param {Object} e The audio processing event.\n   */\n  update (e) {\n    if (!this.loaded || !this.playing) return\n\n    let buffers = []\n      , channels = e.inputBuffer.numberOfChannels\n      , resolution = this.sampleSize / channels\n\n    for (let i = channels; i--;) {\n      buffers.push(e.inputBuffer.getChannelData(i));\n    }\n\n    for (let i = 0; i < resolution; i++) {\n      if (channels > 1) {\n        this.signal[i] = buffers.reduce((prev, curr) => {\n          return prev[i] + curr[i]\n        }) / channels\n      }\n      else {\n        this.signal[i] = buffers[0][i]\n      }\n    }\n\n    super.update()\n  }\n\n  /**\n   * Hook up the audio source with other nodes.\n   */\n  connect () {\n    this.source = this.context.createMediaElementSource(this.audio)\n\n    this.source.connect(this.processor)\n    this.source.connect(this.gain)\n    this.gain.connect(this.context.destination)\n    this.processor.connect(this.context.destination)\n\n    this.loaded = true\n    this.progress = 1\n    this.trigger(\"loaded\")\n  }\n}\n\nexport default WebAudio\n"],"sourceRoot":"/src/js"}