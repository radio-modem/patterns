!function(e,t){function n(n,o){function a(e){return me.preferFlash&&le&&!me.ignoreFlash&&me.flash[e]!==t&&me.flash[e]}function i(e){return function(t){var n=this._s;return n&&n._a?t=e.call(this,t):(n&&n.id?me._wD(n.id+": Ignoring "+t.type):me._wD(ye+"Ignoring "+t.type),t=null),t}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,r,l,u,d,h,c,f,p,m,g,_,y,w,v,M,b,O,D,L,T,S,P,F,I,H,A,C,E,k,x,R,N,U,B,j,W,q,V,Q,K,$,J,X,z,G,Z,Y,ee,te,ne,oe,ae,ie,se,re,le,ue,de,he,ce,fe,pe,me=this,ge=null,_e=null,ye="HTML5::",we=navigator.userAgent,ve=e.location.href.toString(),Me=document,be=[],Oe=!0,De=!1,Le=!1,Te=!1,Se=!1,Pe=!1,Fe=0,Ie=["log","info","warn","error"],He=null,Ae=null,Ce=!1,Ee=!1,ke=0,xe=null,Re=[],Ne=null,Ue=Array.prototype.slice,Be=!1,je=0,We=we.match(/(ipad|iphone|ipod)/i),qe=we.match(/android/i),Ve=we.match(/msie/i),Qe=we.match(/webkit/i),Ke=we.match(/safari/i)&&!we.match(/chrome/i),$e=we.match(/opera/i),Je=we.match(/(mobile|pre\/|xoom)/i)||We||qe,Xe=!ve.match(/usehtml5audio/i)&&!ve.match(/sm2\-ignorebadua/i)&&Ke&&!we.match(/silk/i)&&we.match(/OS X 10_6_([3-7])/i),ze=e.console!==t&&console.log!==t,Ge=Me.hasFocus!==t?Me.hasFocus():null,Ze=Ke&&(Me.hasFocus===t||!Me.hasFocus()),Ye=!Ze,et=/(mp3|mp4|mpa|m4a|m4b)/i,tt=Me.location?Me.location.protocol.match(/http/i):null,nt=tt?"":"http://",ot=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,at="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),it=RegExp("\\.("+at.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!tt;var st;try{st=Audio!==t&&($e&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(rt){st=!1}this.hasHTML5=st,this.setup=function(e){var n=!me.url;return e!==t&&Te&&Ne&&me.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&K(B("setupLate")),g(e),e&&(n&&H&&e.url!==t&&me.beginDelayedInit(),!H&&e.url!==t&&"complete"===Me.readyState&&setTimeout(F,1)),me},this.supported=this.ok=function(){return Ne?Te&&!Se:me.useHTML5Audio&&me.hasHTML5},this.getMovie=function(t){return r(t)||Me[t]||e[t]},this.createSound=function(e,n){function o(){return i=V(i),me.sounds[i.id]=new s(i),me.soundIDs.push(i.id),me.sounds[i.id]}var a,i;if(a=null,a="soundManager.createSound(): "+B(Te?"notOK":"notReady"),!Te||!me.ok())return K(a),!1;if(n!==t&&(e={id:e,url:n}),i=m(e),i.url=G(i.url),void 0===i.id&&(i.id=me.setupOptions.idPrefix+je++),i.id.toString().charAt(0).match(/^[0-9]$/)&&me._wD("soundManager.createSound(): "+B("badID",i.id),2),me._wD("soundManager.createSound(): "+i.id+(i.url?" ("+i.url+")":""),1),$(i.id,!0))return me._wD("soundManager.createSound(): "+i.id+" exists",1),me.sounds[i.id];if(ee(i))a=o(),me._wD(i.id+": Using HTML5"),a._setup_html5(i);else{if(me.html5Only)return me._wD(i.id+": No HTML5 support for this sound, and no Flash. Exiting."),o();if(me.html5.usingFlash&&i.url&&i.url.match(/data\:/i))return me._wD(i.id+": data: URIs not supported via Flash. Exiting."),o();h>8&&(null===i.isMovieStar&&(i.isMovieStar=!(!i.serverURL&&!(i.type&&i.type.match(ot)||i.url&&i.url.match(it)))),i.isMovieStar&&(me._wD("soundManager.createSound(): using MovieStar handling"),1<i.loops&&f("noNSLoop"))),i=Q(i,"soundManager.createSound(): "),a=o(),8===h?_e._createSound(i.id,i.loops||1,i.usePolicyFile):(_e._createSound(i.id,i.url,i.usePeakData,i.useWaveformData,i.useEQData,i.isMovieStar,i.isMovieStar?i.bufferTime:!1,i.loops||1,i.serverURL,i.duration||null,i.autoPlay,!0,i.autoLoad,i.usePolicyFile),i.serverURL||(a.connected=!0,i.onconnect&&i.onconnect.apply(a))),!i.serverURL&&(i.autoLoad||i.autoPlay)&&a.load(i)}return!i.serverURL&&i.autoPlay&&a.play(),a},this.destroySound=function(e,t){if(!$(e))return!1;var n,o=me.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<me.soundIDs.length;n++)if(me.soundIDs[n]===e){me.soundIDs.splice(n,1);break}return t||o.destruct(!0),delete me.sounds[e],!0},this.load=function(e,t){return $(e)?me.sounds[e].load(t):!1},this.unload=function(e){return $(e)?me.sounds[e].unload():!1},this.onposition=this.onPosition=function(e,t,n,o){return $(e)?me.sounds[e].onposition(t,n,o):!1},this.clearOnPosition=function(e,t,n){return $(e)?me.sounds[e].clearOnPosition(t,n):!1},this.start=this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!Te||!me.ok())return K("soundManager.play(): "+B(Te?"notOK":"notReady")),!1;if($(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(me._wD('soundManager.play(): Attempting to create "'+e+'"',1),t.id=e,n=me.createSound(t).play())}return null===n&&(n=me.sounds[e].play(t)),n},this.setPosition=function(e,t){return $(e)?me.sounds[e].setPosition(t):!1},this.stop=function(e){return $(e)?(me._wD("soundManager.stop("+e+")",1),me.sounds[e].stop()):!1},this.stopAll=function(){var e;me._wD("soundManager.stopAll()",1);for(e in me.sounds)me.sounds.hasOwnProperty(e)&&me.sounds[e].stop()},this.pause=function(e){return $(e)?me.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].pause()},this.resume=function(e){return $(e)?me.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].resume()},this.togglePause=function(e){return $(e)?me.sounds[e].togglePause():!1},this.setPan=function(e,t){return $(e)?me.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return $(e)?me.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return $(e)?(me._wD('soundManager.mute(): Muting "'+e+'"'),me.sounds[e].mute()):!1;for(me._wD("soundManager.mute(): Muting all sounds"),t=me.soundIDs.length-1;t>=0;t--)me.sounds[me.soundIDs[t]].mute();return me.muted=!0},this.muteAll=function(){me.mute()},this.unmute=function(e){if(e instanceof String&&(e=null),e)return $(e)?(me._wD('soundManager.unmute(): Unmuting "'+e+'"'),me.sounds[e].unmute()):!1;for(me._wD("soundManager.unmute(): Unmuting all sounds"),e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].unmute();return me.muted=!1,!0},this.unmuteAll=function(){me.unmute()},this.toggleMute=function(e){return $(e)?me.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return _e&&8!==h&&(e=parseInt(_e._getMemoryUse(),10)),e},this.disable=function(n){var o;if(n===t&&(n=!1),Se)return!1;for(Se=!0,f("shutdown",1),o=me.soundIDs.length-1;o>=0;o--)R(me.sounds[me.soundIDs[o]]);return p(n),se.remove(e,"load",v),!0},this.canPlayMIME=function(e){var t;return me.hasHTML5&&(t=te({type:e})),!t&&Ne&&(t=e&&me.ok()?!!(h>8&&e.match(ot)||e.match(me.mimePattern)):null),t},this.canPlayURL=function(e){var t;return me.hasHTML5&&(t=te({url:e})),!t&&Ne&&(t=e&&me.ok()?!!e.match(me.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&me.canPlayMIME(e.type)?!0:me.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=me.sounds[e];return!n&&!t&&me._wD('soundManager.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(t,n){if("function"!=typeof t)throw B("needFunction","onready");return Te&&me._wD(B("queue","onready")),n||(n=e),y("onready",t,n),w(),!0},this.ontimeout=function(t,n){if("function"!=typeof t)throw B("needFunction","ontimeout");return Te&&me._wD(B("queue","ontimeout")),n||(n=e),y("ontimeout",t,n),w({type:"ontimeout"}),!0},this._writeDebug=function(e,n){var o,a;return me.debugMode?ze&&me.useConsole&&(n&&"object"==typeof n?console.log(e,n):Ie[n]!==t?console[Ie[n]](e):console.log(e),me.consoleOnly)?!0:(o=r("soundmanager-debug"))?(a=Me.createElement("div"),0===++Fe%2&&(a.className="sm2-alt"),n=n===t?0:parseInt(n,10),a.appendChild(Me.createTextNode(e)),n&&(n>=2&&(a.style.fontWeight="bold"),3===n&&(a.style.color="#ff3333")),o.insertBefore(a,o.firstChild),!0):!1:!1},-1!==ve.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(f("currentObj",1),e=0,t=me.soundIDs.length;t>e;e++)me.sounds[me.soundIDs[e]]._debug()},this.reboot=function(t,n){me.soundIDs.length&&me._wD("Destroying "+me.soundIDs.length+" SMSound object"+(1!==me.soundIDs.length?"s":"")+"...");var o,a,i;for(o=me.soundIDs.length-1;o>=0;o--)me.sounds[me.soundIDs[o]].destruct();if(_e)try{Ve&&(Ae=_e.innerHTML),He=_e.parentNode.removeChild(_e)}catch(s){f("badRemove",2)}if(Ae=He=Ne=_e=null,me.enabled=H=Te=Ce=Ee=De=Le=Se=Be=me.swfLoaded=!1,me.soundIDs=[],me.sounds={},je=0,t)be=[];else for(o in be)if(be.hasOwnProperty(o))for(a=0,i=be[o].length;i>a;a++)be[o][a].fired=!1;return n||me._wD("soundManager: Rebooting..."),me.html5={usingFlash:null},me.flash={},me.html5Only=!1,me.ignoreFlash=!1,e.setTimeout(function(){P(),n||me.beginDelayedInit()},20),me},this.reset=function(){return f("reset"),me.reboot(!0,!0)},this.getMoviePercent=function(){return _e&&"PercentLoaded"in _e?_e.PercentLoaded():null},this.beginDelayedInit=function(){Pe=!0,F(),setTimeout(function(){return Ee?!1:(C(),S(),Ee=!0)},20),M()},this.destruct=function(){me._wD("soundManager.destruct()"),me.disable(!0)},s=function(e){var n,o,a,i,s,r,l,u,d,p,g,_=this,y=!1,w=[],v=0,M=null;o=n=null,this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=m(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,g=this.url?!1:!0,this.id3={},this._debug=function(){me._wD(_.id+": Merged options:",_.options)},this.load=function(e){var n,o=null;if(e!==t?_._iO=m(e,_.options):(e=_.options,_._iO=e,M&&M!==_.url&&(f("manURL"),_._iO.url=_.url,_.url=null)),_._iO.url||(_._iO.url=_.url),_._iO.url=G(_._iO.url),n=_.instanceOptions=_._iO,me._wD(_.id+": load ("+n.url+")"),!n.url&&!_.url)return me._wD(_.id+": load(): url is unassigned. Exiting.",2),_;if(!_.isHTML5&&8===h&&!_.url&&!n.autoPlay&&me._wD(_.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),n.url===_.url&&0!==_.readyState&&2!==_.readyState)return f("onURL",1),3===_.readyState&&n.onload&&pe(_,function(){n.onload.apply(_,[!!_.duration])}),_;if(_.loaded=!1,_.readyState=1,_.playState=0,_.id3={},ee(n))o=_._setup_html5(n),o._called_load?me._wD(_.id+": Ignoring request to load again"):(_._html5_canplay=!1,_.url!==n.url&&(me._wD(f("manURL")+": "+n.url),_._a.src=n.url,_.setPosition(0)),_._a.autobuffer="auto",_._a.preload="auto",_._a._called_load=!0);else{if(me.html5Only)return me._wD(_.id+": No flash support. Exiting."),_;if(_._iO.url&&_._iO.url.match(/data\:/i))return me._wD(_.id+": data: URIs not supported via Flash. Exiting."),_;try{_.isHTML5=!1,_._iO=Q(V(n)),_._iO.autoPlay&&(_._iO.position||_._iO.from)&&(me._wD(_.id+": Disabling autoPlay because of non-zero offset case"),_._iO.autoPlay=!1),n=_._iO,8===h?_e._load(_.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):_e._load(_.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(a){f("smError",2),c("onload",!1),E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return _.url=n.url,_},this.unload=function(){return 0!==_.readyState&&(me._wD(_.id+": unload()"),_.isHTML5?(r(),_._a&&(_._a.pause(),M=oe(_._a))):8===h?_e._unload(_.id,"about:blank"):_e._unload(_.id),a()),_},this.destruct=function(e){me._wD(_.id+": Destruct"),_.isHTML5?(r(),_._a&&(_._a.pause(),oe(_._a),Be||s(),_._a._s=null,_._a=null)):(_._iO.onfailure=null,_e._destroySound(_.id)),e||me.destroySound(_.id,!0)},this.start=this.play=function(e,n){var o,a,i,s,r,d=!0,d=null;if(o=_.id+": play(): ",n=n===t?!0:n,e||(e={}),_.url&&(_._iO.url=_.url),_._iO=m(_._iO,_.options),_._iO=m(e,_._iO),_._iO.url=G(_._iO.url),_.instanceOptions=_._iO,!_.isHTML5&&_._iO.serverURL&&!_.connected)return _.getAutoPlay()||(me._wD(o+" Netstream not connected yet - setting autoPlay"),_.setAutoPlay(!0)),_;if(ee(_._iO)&&(_._setup_html5(_._iO),l()),1===_.playState&&!_.paused&&((a=_._iO.multiShot)?me._wD(o+"Already playing (multi-shot)",1):(me._wD(o+"Already playing (one-shot)",1),_.isHTML5&&_.setPosition(_._iO.position),d=_)),null!==d)return d;if(e.url&&e.url!==_.url&&(_.readyState||_.isHTML5||8!==h||!g?_.load(_._iO):g=!1),_.loaded?me._wD(o.substr(0,o.lastIndexOf(":"))):0===_.readyState?(me._wD(o+"Attempting to load"),_.isHTML5||me.html5Only?_.isHTML5?_.load(_._iO):(me._wD(o+"Unsupported type. Exiting."),d=_):(_._iO.autoPlay=!0,_.load(_._iO)),_.instanceOptions=_._iO):2===_.readyState?(me._wD(o+"Could not load - exiting",2),d=_):me._wD(o+"Loading - attempting to play..."),null!==d)return d;if(!_.isHTML5&&9===h&&0<_.position&&_.position===_.duration&&(me._wD(o+"Sound at end, resetting to position:0"),e.position=0),_.paused&&0<=_.position&&(!_._iO.serverURL||0<_.position))me._wD(o+"Resuming from paused state",1),_.resume();else{if(_._iO=m(e,_._iO),(!_.isHTML5&&null!==_._iO.position&&0<_._iO.position||null!==_._iO.from&&0<_._iO.from||null!==_._iO.to)&&0===_.instanceCount&&0===_.playState&&!_._iO.serverURL){if(a=function(){_._iO=m(e,_._iO),_.play(_._iO)},_.isHTML5&&!_._html5_canplay?(me._wD(o+"Beginning load for non-zero offset case"),_.load({_oncanplay:a}),d=!1):_.isHTML5||_.loaded||_.readyState&&2===_.readyState||(me._wD(o+"Preloading for non-zero offset case"),_.load({onload:a}),d=!1),null!==d)return d;_._iO=p()}(!_.instanceCount||_._iO.multiShotEvents||_.isHTML5&&_._iO.multiShot&&!Be||!_.isHTML5&&h>8&&!_.getAutoPlay())&&_.instanceCount++,_._iO.onposition&&0===_.playState&&u(_),_.playState=1,_.paused=!1,_.position=_._iO.position===t||isNaN(_._iO.position)?0:_._iO.position,_.isHTML5||(_._iO=Q(V(_._iO))),_._iO.onplay&&n&&(_._iO.onplay.apply(_),y=!0),_.setVolume(_._iO.volume,!0),_.setPan(_._iO.pan,!0),_.isHTML5?2>_.instanceCount?(l(),o=_._setup_html5(),_.setPosition(_._iO.position),o.play()):(me._wD(_.id+": Cloning Audio() for instance #"+_.instanceCount+"..."),i=new Audio(_._iO.url),s=function(){se.remove(i,"ended",s),_._onfinish(_),oe(i),i=null},r=function(){se.remove(i,"canplay",r);try{i.currentTime=_._iO.position/1e3}catch(e){K(_.id+": multiShot play() failed to apply position of "+_._iO.position/1e3)}i.play()},se.add(i,"ended",s),void 0!==_._iO.volume&&(i.volume=Math.max(0,Math.min(1,_._iO.volume/100))),_.muted&&(i.muted=!0),_._iO.position?se.add(i,"canplay",r):i.play()):(d=_e._start(_.id,_._iO.loops||1,9===h?_.position:_.position/1e3,_._iO.multiShot||!1),9===h&&!d&&(me._wD(o+"No sound hardware, or 32-sound ceiling hit",2),_._iO.onplayerror&&_._iO.onplayerror.apply(_)))}return _},this.stop=function(e){var t=_._iO;return 1===_.playState&&(me._wD(_.id+": stop()"),_._onbufferchange(0),_._resetOnPosition(0),_.paused=!1,_.isHTML5||(_.playState=0),d(),t.to&&_.clearOnPosition(t.to),_.isHTML5?_._a&&(e=_.position,_.setPosition(0),_.position=e,_._a.pause(),_.playState=0,_._onTimer(),r()):(_e._stop(_.id,e),t.serverURL&&_.unload()),_.instanceCount=0,_._iO={},t.onstop&&t.onstop.apply(_)),_},this.setAutoPlay=function(e){me._wD(_.id+": Autoplay turned "+(e?"on":"off")),_._iO.autoPlay=e,_.isHTML5||(_e._setAutoPlay(_.id,e),e&&!_.instanceCount&&1===_.readyState&&(_.instanceCount++,me._wD(_.id+": Incremented instance count to "+_.instanceCount)))},this.getAutoPlay=function(){return _._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n=_.isHTML5?Math.max(e,0):Math.min(_.duration||_._iO.duration,Math.max(e,0));if(_.position=n,e=_.position/1e3,_._resetOnPosition(_.position),_._iO.position=n,_.isHTML5){if(_._a){if(_._html5_canplay){if(_._a.currentTime!==e){me._wD(_.id+": setPosition("+e+")");try{_._a.currentTime=e,(0===_.playState||_.paused)&&_._a.pause()}catch(o){me._wD(_.id+": setPosition("+e+") failed: "+o.message,2)}}}else if(e)return me._wD(_.id+": setPosition("+e+"): Cannot seek yet, sound not ready",2),_;_.paused&&_._onTimer(!0)}}else e=9===h?_.position:e,_.readyState&&2!==_.readyState&&_e._setPosition(_.id,e,_.paused||!_.playState,_._iO.multiShot);return _},this.pause=function(e){return _.paused||0===_.playState&&1!==_.readyState?_:(me._wD(_.id+": pause()"),_.paused=!0,_.isHTML5?(_._setup_html5().pause(),r()):(e||e===t)&&_e._pause(_.id,_._iO.multiShot),_._iO.onpause&&_._iO.onpause.apply(_),_)},this.resume=function(){var e=_._iO;return _.paused?(me._wD(_.id+": resume()"),_.paused=!1,_.playState=1,_.isHTML5?(_._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&_.setPosition(_.position),_e._pause(_.id,e.multiShot)),!y&&e.onplay?(e.onplay.apply(_),y=!0):e.onresume&&e.onresume.apply(_),_):_},this.togglePause=function(){return me._wD(_.id+": togglePause()"),0===_.playState?(_.play({position:9!==h||_.isHTML5?_.position/1e3:_.position}),_):(_.paused?_.resume():_.pause(),_)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),_.isHTML5||_e._setPan(_.id,e),_._iO.pan=e,n||(_.pan=e,_.options.pan=e),_},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),_.isHTML5?_._a&&(me.muted&&!_.muted&&(_.muted=!0,_._a.muted=!0),_._a.volume=Math.max(0,Math.min(1,e/100))):_e._setVolume(_.id,me.muted&&!_.muted||_.muted?0:e),_._iO.volume=e,n||(_.volume=e,_.options.volume=e),_},this.mute=function(){return _.muted=!0,_.isHTML5?_._a&&(_._a.muted=!0):_e._setVolume(_.id,0),_},this.unmute=function(){_.muted=!1;var e=_._iO.volume!==t;return _.isHTML5?_._a&&(_._a.muted=!1):_e._setVolume(_.id,e?_._iO.volume:_.options.volume),_},this.toggleMute=function(){return _.muted?_.unmute():_.mute()},this.onposition=this.onPosition=function(e,n,o){return w.push({position:parseInt(e,10),method:n,scope:o!==t?o:_,fired:!1}),_},this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<w.length;n++)e!==w[n].position||t&&t!==w[n].method||(w[n].fired&&v--,w.splice(n,1))},this._processOnPosition=function(){var e,t;if(e=w.length,!e||!_.playState||v>=e)return!1;for(e-=1;e>=0;e--)t=w[e],!t.fired&&_.position>=t.position&&(t.fired=!0,v++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n;if(t=w.length,!t)return!1;for(t-=1;t>=0;t--)n=w[t],n.fired&&e<=n.position&&(n.fired=!1,v--);return!0},p=function(){var e,t,n=_._iO,o=n.from,a=n.to;return t=function(){me._wD(_.id+': "To" time of '+a+" reached."),_.clearOnPosition(a,t),_.stop()},e=function(){me._wD(_.id+': Playing "from" '+o),null===a||isNaN(a)||_.onPosition(a,t)},null!==o&&!isNaN(o)&&(n.position=o,n.multiShot=!1,e()),n},u=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.onPosition(parseInt(e,10),t[e])},d=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.clearOnPosition(parseInt(e,10))},l=function(){_.isHTML5&&J(_)},r=function(){_.isHTML5&&X(_)},a=function(e){e||(w=[],v=0),y=!1,_._hasTimer=null,_._a=null,_._html5_canplay=!1,_.bytesLoaded=null,_.bytesTotal=null,_.duration=_._iO&&_._iO.duration?_._iO.duration:null,_.durationEstimate=null,_.buffered=[],_.eqData=[],_.eqData.left=[],_.eqData.right=[],_.failures=0,_.isBuffering=!1,_.instanceOptions={},_.instanceCount=0,_.loaded=!1,_.metadata={},_.readyState=0,_.muted=!1,_.paused=!1,_.peakData={left:0,right:0},_.waveformData={left:[],right:[]},_.playState=0,_.position=null,_.id3={}},a(),this._onTimer=function(e){var t,a=!1,i={};return _._hasTimer||e?(_._a&&(e||(0<_.playState||1===_.readyState)&&!_.paused)&&(t=_._get_html5_duration(),t!==n&&(n=t,_.duration=t,a=!0),_.durationEstimate=_.duration,t=1e3*_._a.currentTime||0,t!==o&&(o=t,a=!0),(a||e)&&_._whileplaying(t,i,i,i,i)),a):void 0},this._get_html5_duration=function(){var e=_._iO;return(e=_._a&&_._a.duration?1e3*_._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){!e.loop&&t>1&&me._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){e=m(_._iO,e);var t,n=Be?ge:_._a,o=decodeURI(e.url);if(Be?o===decodeURI(re)&&(t=!0):o===decodeURI(M)&&(t=!0),n){if(n._s)if(Be)n._s&&n._s.playState&&!t&&n._s.stop();else if(!Be&&o===decodeURI(M))return _._apply_loop(n,e.loops),n;t||(M&&a(!1),n.src=e.url,re=M=_.url=e.url,n._called_load=!1)}else e.autoLoad||e.autoPlay?(_._a=new Audio(e.url),_._a.load()):_._a=$e&&10>opera.version()?new Audio(null):new Audio,n=_._a,n._called_load=!1,Be&&(ge=n);return _.isHTML5=!0,_._a=n,n._s=_,i(),_._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?_.load():(n.autobuffer=!1,n.preload="auto"),n},i=function(){if(_._a._added_events)return!1;var e;_._a._added_events=!0;for(e in he)he.hasOwnProperty(e)&&_._a&&_._a.addEventListener(e,he[e],!1);return!0},s=function(){var e;me._wD(_.id+": Removing event listeners"),_._a._added_events=!1;for(e in he)he.hasOwnProperty(e)&&_._a&&_._a.removeEventListener(e,he[e],!1)},this._onload=function(e){var t=!!e||!_.isHTML5&&8===h&&_.duration;return e=_.id+": ",me._wD(e+(t?"onload()":"Failed to load / invalid sound?"+(_.duration?" -":" Zero-length duration reported.")+" ("+_.url+")"),t?1:2),!t&&!_.isHTML5&&(!0===me.sandbox.noRemote&&me._wD(e+B("noNet"),1),!0===me.sandbox.noLocal&&me._wD(e+B("noLocal"),1)),_.loaded=t,_.readyState=t?3:2,_._onbufferchange(0),_._iO.onload&&pe(_,function(){_._iO.onload.apply(_,[t])}),!0},this._onbufferchange=function(e){return 0===_.playState||e&&_.isBuffering||!e&&!_.isBuffering?!1:(_.isBuffering=1===e,_._iO.onbufferchange&&(me._wD(_.id+": Buffer state change: "+e),_._iO.onbufferchange.apply(_,[e])),!0)},this._onsuspend=function(){return _._iO.onsuspend&&(me._wD(_.id+": Playback suspended"),_._iO.onsuspend.apply(_)),!0},this._onfailure=function(e,t,n){_.failures++,me._wD(_.id+": Failure ("+_.failures+"): "+e),_._iO.onfailure&&1===_.failures?_._iO.onfailure(e,t,n):me._wD(_.id+": Ignoring failure")},this._onwarning=function(e,t,n){_._iO.onwarning&&_._iO.onwarning(e,t,n)},this._onfinish=function(){var e=_._iO.onfinish;_._onbufferchange(0),_._resetOnPosition(0),_.instanceCount&&(_.instanceCount--,_.instanceCount||(d(),_.playState=0,_.paused=!1,_.instanceCount=0,_.instanceOptions={},_._iO={},r(),_.isHTML5&&(_.position=0)),(!_.instanceCount||_._iO.multiShotEvents)&&e)&&(me._wD(_.id+": onfinish()"),pe(_,function(){e.apply(_)}))},this._whileloading=function(e,t,n,o){var a=_._iO;_.bytesLoaded=e,_.bytesTotal=t,_.duration=Math.floor(n),_.bufferLength=o,_.durationEstimate=_.isHTML5||a.isMovieStar?_.duration:a.duration?_.duration>a.duration?_.duration:a.duration:parseInt(_.bytesTotal/_.bytesLoaded*_.duration,10),_.isHTML5||(_.buffered=[{start:0,end:_.duration}]),(3!==_.readyState||_.isHTML5)&&a.whileloading&&a.whileloading.apply(_)},this._whileplaying=function(e,n,o,a,i){var s=_._iO;return isNaN(e)||null===e?!1:(_.position=Math.max(0,e),_._processOnPosition(),!_.isHTML5&&h>8&&(s.usePeakData&&n!==t&&n&&(_.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&o!==t&&o&&(_.waveformData={left:o.split(","),right:a.split(",")}),s.useEQData&&i!==t&&i&&i.leftEQ&&(e=i.leftEQ.split(","),_.eqData=e,_.eqData.left=e,i.rightEQ!==t&&i.rightEQ&&(_.eqData.right=i.rightEQ.split(",")))),1===_.playState&&(!_.isHTML5&&8===h&&!_.position&&_.isBuffering&&_._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(_)),!0)},this._oncaptiondata=function(e){me._wD(_.id+": Caption data received."),_.captiondata=e,_._iO.oncaptiondata&&_._iO.oncaptiondata.apply(_,[e])},this._onmetadata=function(e,t){me._wD(_.id+": Metadata received.");var n,o,a={};for(n=0,o=e.length;o>n;n++)a[e[n]]=t[n];_.metadata=a,console.log("updated metadata",_.metadata),_._iO.onmetadata&&_._iO.onmetadata.call(_,_.metadata)},this._onid3=function(e,t){me._wD(_.id+": ID3 data received.");var n,o,a=[];for(n=0,o=e.length;o>n;n++)a[e[n]]=t[n];_.id3=m(_.id3,a),_._iO.onid3&&_._iO.onid3.apply(_)},this._onconnect=function(e){e=1===e,me._wD(_.id+": "+(e?"Connected.":"Failed to connect? - "+_.url),e?1:2),(_.connected=e)&&(_.failures=0,$(_.id)&&(_.getAutoPlay()?_.play(t,_.getAutoPlay()):_._iO.autoLoad&&_.load()),_._iO.onconnect&&_._iO.onconnect.apply(_,[e]))},this._ondataerror=function(e){0<_.playState&&(me._wD(_.id+": Data error: "+e),_._iO.ondataerror&&_._iO.ondataerror.apply(_))},this._debug()},A=function(){return Me.body||Me.getElementsByTagName("div")[0]},r=function(e){return Me.getElementById(e)},m=function(e,n){var o,a,i=e||{};o=n===t?me.defaultOptions:n;for(a in o)o.hasOwnProperty(a)&&i[a]===t&&(i[a]="object"!=typeof o[a]||null===o[a]?o[a]:m(i[a],o[a]));return i},pe=function(t,n){t.isHTML5||8!==h?n():e.setTimeout(n,0)},_={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},g=function(e,n){var o,a=!0,i=n!==t,s=me.setupOptions;if(e===t){a=[];for(o in s)s.hasOwnProperty(o)&&a.push(o);for(o in _)_.hasOwnProperty(o)&&("object"==typeof me[o]?a.push(o+": {...}"):me[o]instanceof Function?a.push(o+": function() {...}"):a.push(o));return me._wD(B("setup",a.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)i&&_[n]!==t?me[n][o]=e[o]:s[o]!==t?(me.setupOptions[o]=e[o],me[o]=e[o]):_[o]===t?(K(B(me[o]===t?"setupUndef":"setupError",o),2),a=!1):me[o]instanceof Function?me[o].apply(me,e[o]instanceof Array?e[o]:[e[o]]):me[o]=e[o];else{if(_[o]!==t)return g(e[o],o);K(B(me[o]===t?"setupUndef":"setupError",o),2),a=!1}return a},se=function(){function t(e){e=Ue.call(e);var t=e.length;return o?(e[1]="on"+e[1],t>3&&e.pop()):3===t&&e.push(!1),e}function n(e,t){var n=e.shift(),i=[a[t]];o?n[i](e[0],e[1]):n[i].apply(n,e)}var o=e.attachEvent,a={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:function(){n(t(arguments),"add")},remove:function(){n(t(arguments),"remove")}}}(),he={abort:i(function(){me._wD(this._s.id+": abort")}),canplay:i(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,me._wD(n.id+": canplay"),n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==e){me._wD(n.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(o){me._wD(n.id+": canplay: Setting position of "+e+" failed: "+o.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:i(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:i(function(){var e,t=this._s;e=t._get_html5_duration(),!isNaN(e)&&e!==t.duration&&(me._wD(this._s.id+": durationchange ("+e+")"+(t.duration?", previously "+t.duration:"")),t.durationEstimate=t.duration=e)}),ended:i(function(){var e=this._s;me._wD(e.id+": ended"),e._onfinish()}),error:i(function(){me._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:i(function(){var e=this._s;me._wD(e.id+": loadeddata"),!e._loaded&&!Ke&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){me._wD(this._s.id+": loadedmetadata")}),loadstart:i(function(){me._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:i(function(){this._s._onbufferchange(0)}),playing:i(function(){me._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:i(function(e){var t,n,o,a=this._s;t=0;var i="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(a.buffered=[],s&&s.length){for(t=0,n=s.length;n>t;t++)a.buffered.push({start:1e3*s.start(t),end:1e3*s.end(t)});if(t=1e3*(s.end(0)-s.start(0)),r=Math.min(1,t/(1e3*e.target.duration)),i&&1<s.length){for(o=[],n=s.length,t=0;n>t;t++)o.push(1e3*e.target.buffered.start(t)+"-"+1e3*e.target.buffered.end(t));me._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}i&&!isNaN(r)&&me._wD(this._s.id+": progress, "+Math.floor(100*r)+"% loaded")}isNaN(r)||(a._whileloading(r,l,a._get_html5_duration()),r&&l&&r===l&&he.canplaythrough.call(this,e))}),ratechange:i(function(){me._wD(this._s.id+": ratechange")}),suspend:i(function(e){var t=this._s;me._wD(this._s.id+": suspend"),he.progress.call(this,e),t._onsuspend()}),stalled:i(function(){me._wD(this._s.id+": stalled")}),timeupdate:i(function(){this._s._onTimer()}),waiting:i(function(){var e=this._s;me._wD(this._s.id+": waiting"),e._onbufferchange(1)})},ee=function(e){return e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&a(e.type)?!1:e.type?te({type:e.type}):te({url:e.url})||me.html5Only||e.url.match(/data\:/i):!1},oe=function(e){var t;return e&&(t=Ke?"about:blank":me.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Be&&(re=null),t},te=function(e){if(!me.useHTML5Audio||!me.hasHTML5)return!1;var n=e.url||null;e=e.type||null;var o,i=me.audioFormats;if(e&&me.html5[e]!==t)return me.html5[e]&&!a(e);if(!ne){ne=[];for(o in i)i.hasOwnProperty(o)&&(ne.push(o),i[o].related&&(ne=ne.concat(i[o].related)));ne=RegExp("\\.("+ne.join("|")+")(\\?.*)?$","i")}return o=n?n.toLowerCase().match(ne):null,o&&o.length?o=o[1]:e&&(n=e.indexOf(";"),o=(-1!==n?e.substr(0,n):e).substr(6)),o&&me.html5[o]!==t?n=me.html5[o]&&!a(o):(e="audio/"+o,n=me.html5.canPlayType({type:e}),n=(me.html5[o]=n)&&me.html5[e]&&!a(e)),n},ie=function(){function e(e){var t,n=t=!1;if(!s||"function"!=typeof s.canPlayType)return t;if(e instanceof Array){for(i=0,t=e.length;t>i;i++)(me.html5[e[i]]||s.canPlayType(e[i]).match(me.html5Test))&&(n=!0,me.html5[e[i]]=!0,me.flash[e[i]]=!!e[i].match(et));t=n}else e=s&&"function"==typeof s.canPlayType?s.canPlayType(e):!1,t=!(!e||!e.match(me.html5Test));return t}if(!me.useHTML5Audio||!me.hasHTML5)return Ne=me.html5.usingFlash=!0,!1;var n,o,a,i,s=Audio!==t?$e&&10>opera.version()?new Audio(null):new Audio:null,r={};a=me.audioFormats;for(n in a)if(a.hasOwnProperty(n)&&(o="audio/"+n,r[n]=e(a[n].type),r[o]=r[n],n.match(et)?(me.flash[n]=!0,me.flash[o]=!0):(me.flash[n]=!1,me.flash[o]=!1),a[n]&&a[n].related))for(i=a[n].related.length-1;i>=0;i--)r["audio/"+a[n].related[i]]=r[n],me.html5[a[n].related[i]]=r[n],me.flash[a[n].related[i]]=r[n];return r.canPlayType=s?e:null,me.html5=m(me.html5,r),me.html5.usingFlash=Y(),Ne=me.html5.usingFlash,!0},T={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",
swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+Me.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},B=function(){var e,t,n,o;if(e=Ue.call(arguments),t=e.shift(),(o=T&&T[t]?T[t]:"")&&e&&e.length)for(t=0,n=e.length;n>t;t++)o=o.replace("%s",e[t]);return o},V=function(e){return 8===h&&1<e.loops&&e.stream&&(f("as2loop"),e.stream=!1),e},Q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(me._wD((t||"")+B("policy")),e.usePolicyFile=!0),e},K=function(e){ze&&console.warn!==t?console.warn(e):me._wD(e)},l=function(){return!1},R=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l)},N=function(e){e===t&&(e=!1),(Se||e)&&me.disable(e)},U=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+me.movieURL,me.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},D=function(){h=parseInt(me.flashVersion,10),8!==h&&9!==h&&(me._wD(B("badFV",h,8)),me.flashVersion=h=8);var e=me.debugMode||me.debugFlash?"_debug.swf":".swf";me.useHTML5Audio&&!me.html5Only&&me.audioFormats.mp4.required&&9>h&&(me._wD(B("needfl9")),me.flashVersion=h=9),me.version=me.versionNumber+(me.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),h>8?(me.defaultOptions=m(me.defaultOptions,me.flash9Options),me.features.buffering=!0,me.defaultOptions=m(me.defaultOptions,me.movieStarOptions),me.filePatterns.flash9=RegExp("\\.(mp3|"+at.join("|")+")(\\?.*)?$","i"),me.features.movieStar=!0):me.features.movieStar=!1,me.filePattern=me.filePatterns[8!==h?"flash9":"flash8"],me.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),me.features.peakData=me.features.waveformData=me.features.eqData=h>8},k=function(e,t){return _e?void _e._setPolling(e,t):!1},x=function(){if(me.debugURLParam.test(ve)&&(me.debugMode=!0),r(me.debugID))return!1;var e,t,n,o;if(me.debugMode&&!r(me.debugID)&&(!ze||!me.useConsole||!me.consoleOnly)){e=Me.createElement("div"),e.id=me.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Me.createTextNode("-")),e.onclick=q,e.title="Toggle SM2 debug console",we.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(o in t)t.hasOwnProperty(o)&&(e.style[o]=t[o]);if(t=Me.createElement("div"),t.id=me.debugID,t.style.display=me.debugMode?"block":"none",me.debugMode&&!r(e.id)){try{n=A(),n.appendChild(e)}catch(a){throw Error(B("domError")+" \n"+a.toString())}n.appendChild(t)}}},$=this.getSoundById,f=function(e,t){return e?me._wD(B(e),t):""},q=function(){var e=r(me.debugID),t=r(me.debugID+"-toggle");return e?(Oe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),void(Oe=!Oe)):!1},c=function(n,o,a){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,o,a)}catch(i){return!1}return!0},W=function(){var e=[];return me.debugMode&&e.push("sm2_debug"),me.debugFlash&&e.push("flash_debug"),me.useHighPerformance&&e.push("high_performance"),e.join(" ")},j=function(){var e=B("fbHandler"),t=me.getMoviePercent(),n={type:"FLASHBLOCK"};return me.html5Only?!1:void(me.ok()?(me.didFlashBlock&&me._wD(e+": Unblocked"),me.oMC&&(me.oMC.className=[W(),"movieContainer","swf_loaded"+(me.didFlashBlock?" swf_unblocked":"")].join(" "))):(Ne&&(me.oMC.className=W()+" movieContainer "+(null===t?"swf_timedout":"swf_error"),me._wD(e+": "+B("fbTimeout")+(t?" ("+B("fbLoaded")+")":""))),me.didFlashBlock=!0,w({type:"ontimeout",ignoreInit:!0,error:n}),E(n)))},y=function(e,n,o){be[e]===t&&(be[e]=[]),be[e].push({method:n,scope:o||null,fired:!1})},w=function(e){if(e||(e={type:me.ok()?"onready":"ontimeout"}),!Te&&e&&!e.ignoreInit||"ontimeout"===e.type&&(me.ok()||Se&&!e.ignoreInit))return!1;var t,n={success:e&&e.ignoreInit?me.ok():!Se},o=e&&e.type?be[e.type]||[]:[],a=[],n=[n],i=Ne&&!me.ok();for(e.error&&(n[0].error=e.error),e=0,t=o.length;t>e;e++)!0!==o[e].fired&&a.push(o[e]);if(a.length)for(e=0,t=a.length;t>e;e++)a[e].scope?a[e].method.apply(a[e].scope,n):a[e].method.apply(this,n),i||(a[e].fired=!0);return!0},v=function(){e.setTimeout(function(){me.useFlashBlock&&j(),w(),"function"==typeof me.onload&&(f("onload",1),me.onload.apply(e),f("onloadOK",1)),me.waitForWindowLoad&&se.add(e,"load",v)},1)},ue=function(){if(le!==t)return le;var n,o=!1,a=navigator,i=a.plugins,s=e.ActiveXObject;if(i&&i.length)(a=a.mimeTypes)&&a["application/x-shockwave-flash"]&&a["application/x-shockwave-flash"].enabledPlugin&&a["application/x-shockwave-flash"].enabledPlugin.description&&(o=!0);else if(s!==t&&!we.match(/MSAppHost/i)){try{n=new s("ShockwaveFlash.ShockwaveFlash")}catch(r){n=null}o=!!n}return le=o},Y=function(){var e,t,n=me.audioFormats;if(We&&we.match(/os (1|2|3_0|3_1)\s/i)?(me.hasHTML5=!1,me.html5Only=!0,me.oMC&&(me.oMC.style.display="none")):me.useHTML5Audio&&(me.html5&&me.html5.canPlayType||(me._wD("SoundManager: No HTML5 Audio() support detected."),me.hasHTML5=!1),Xe&&me._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(le?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),me.useHTML5Audio&&me.hasHTML5)for(t in Z=!0,n)n.hasOwnProperty(t)&&n[t].required&&(me.html5.canPlayType(n[t].type)?me.preferFlash&&(me.flash[t]||me.flash[n[t].type])&&(e=!0):(Z=!1,e=!0));return me.ignoreFlash&&(e=!1,Z=!0),me.html5Only=me.hasHTML5&&me.useHTML5Audio&&!e,!me.html5Only},G=function(e){var t,n,o=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(me.canPlayMIME(e[t].type)){o=t;break}}else if(me.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),e=e[o]}return e},J=function(e){e._hasTimer||(e._hasTimer=!0,!Je&&me.html5PollingInterval&&(null===xe&&0===ke&&(xe=setInterval(z,me.html5PollingInterval)),ke++))},X=function(e){e._hasTimer&&(e._hasTimer=!1,!Je&&me.html5PollingInterval&&ke--)},z=function(){var e;if(null!==xe&&!ke)return clearInterval(xe),xe=null,!1;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].isHTML5&&me.sounds[me.soundIDs[e]]._hasTimer&&me.sounds[me.soundIDs[e]]._onTimer()},E=function(n){n=n!==t?n:{},"function"==typeof me.onerror&&me.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&me.disable()},de=function(){if(!Xe||!ue())return!1;var e,t,n=me.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(me._wD("soundManager: Using flash fallback for "+t+" format"),me.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)me.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=me.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,f("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e){if(me.swfLoaded)return!1;var t;return c("swf",!0),c("flashtojs",!0),me.swfLoaded=!0,Ze=!1,Xe&&de(),e&&e.replace(/\+dev/i,"")===me.versionNumber.replace(/\+dev/i,"")?void setTimeout(d,Ve?100:1):(t='soundManager: Fatal: JavaScript file build "'+me.versionNumber+'" does not match Flash SWF build "'+e+'" at '+me.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(t)},0),!1)},C=function(e,n){function o(){var e,t=[],n=[];e="SoundManager "+me.version+(!me.html5Only&&me.useHTML5Audio?me.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),me.html5Only?me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"):(me.preferFlash&&t.push("preferFlash"),me.useHighPerformance&&t.push("useHighPerformance"),me.flashPollingInterval&&t.push("flashPollingInterval ("+me.flashPollingInterval+"ms)"),me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"),me.wmode&&t.push("wmode ("+me.wmode+")"),me.debugFlash&&t.push("debugFlash"),me.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(" + ")])),me._wD(e+(n.length?" + "+n.join(", "):""),1),ce()}function a(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(De&&Le)return!1;if(me.html5Only)return D(),o(),me.oMC=r(me.movieID),d(),Le=De=!0,!1;var i,s,l,u=n||me.url,h=me.altURL||u,c=A(),f=W(),p=null,p=Me.getElementsByTagName("html")[0],p=p&&p.dir&&p.dir.match(/rtl/i);if(e=e===t?me.id:e,D(),me.url=U(tt?u:h),n=me.url,me.wmode=!me.wmode&&me.useHighPerformance?"transparent":me.wmode,null!==me.wmode&&(we.match(/msie 8/i)||!Ve&&!me.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Re.push(T.spcWmode),me.wmode=null),c={name:e,id:e,src:n,quality:"high",allowScriptAccess:me.allowScriptAccess,bgcolor:me.bgColor,pluginspage:nt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:me.wmode,hasPriority:"true"},me.debugFlash&&(c.FlashVars="debug=1"),me.wmode||delete c.wmode,Ve)u=Me.createElement("div"),s=['<object id="'+e+'" data="'+n+'" type="'+c.type+'" title="'+c.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+nt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',a("movie",n),a("AllowScriptAccess",me.allowScriptAccess),a("quality",c.quality),me.wmode?a("wmode",me.wmode):"",a("bgcolor",me.bgColor),a("hasPriority","true"),me.debugFlash?a("FlashVars",c.FlashVars):"","</object>"].join("");else for(i in u=Me.createElement("embed"),c)c.hasOwnProperty(i)&&u.setAttribute(i,c[i]);if(x(),f=W(),c=A())if(me.oMC=r(me.movieID)||Me.createElement("div"),me.oMC.id)l=me.oMC.className,me.oMC.className=(l?l+" ":"movieContainer")+(f?" "+f:""),me.oMC.appendChild(u),Ve&&(i=me.oMC.appendChild(Me.createElement("div")),i.className="sm2-object-box",i.innerHTML=s),Le=!0;else{if(me.oMC.id=me.movieID,me.oMC.className="movieContainer "+f,i=f=null,me.useFlashBlock||(me.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Qe&&(me.oMC.style.zIndex=1e4),!me.debugFlash)for(l in f)f.hasOwnProperty(l)&&(me.oMC.style[l]=f[l]);try{Ve||me.oMC.appendChild(u),c.appendChild(me.oMC),Ve&&(i=me.oMC.appendChild(Me.createElement("div")),i.className="sm2-object-box",i.innerHTML=s),Le=!0}catch(m){throw Error(B("domError")+" \n"+m.toString())}}return De=!0,o(),!0},S=function(){return me.html5Only?(C(),!1):_e?!1:me.url?(_e=me.getMovie(me.id),_e||(He?(Ve?me.oMC.innerHTML=Ae:me.oMC.appendChild(He),He=null,De=!0):C(me.id,me.url),_e=me.getMovie(me.id)),"function"==typeof me.oninitmovie&&setTimeout(me.oninitmovie,1),fe(),!0):(f("noURL"),!1)},M=function(){setTimeout(b,1e3)},O=function(){e.setTimeout(function(){K("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),me.setup({preferFlash:!1}).reboot(),me.didFlashBlock=!0,me.beginDelayedInit()},1)},b=function(){var t,n=!1;return!me.url||Ce?!1:(Ce=!0,se.remove(e,"load",M),le&&Ze&&!Ge?(f("waitFocus"),!1):(Te||(t=me.getMoviePercent(),t>0&&100>t&&(n=!0)),void setTimeout(function(){return t=me.getMoviePercent(),n?(Ce=!1,me._wD(B("waitSWF")),e.setTimeout(M,1),!1):(Te||(me._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(me.debugFlash?" "+B("checkSWF"):""),2),!tt&&t&&(f("localFail",2),me.debugFlash||f("tryDebug",2)),0===t&&me._wD(B("swf404",me.url),1),c("flashtojs",!1," (Check flash security or flash blockers)")),void(!Te&&Ye&&(null===t?me.useFlashBlock||0===me.flashLoadTimeout?(me.useFlashBlock&&j(),f("waitForever")):!me.useFlashBlock&&Z?O():(f("waitForever"),w({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===me.flashLoadTimeout?f("waitForever"):!me.useFlashBlock&&Z?O():N(!0))))},me.flashLoadTimeout)))},L=function(){return Ge||!Ze?(se.remove(e,"focus",L),!0):(Ge=Ye=!0,f("gotFocus"),Ce=!1,M(),se.remove(e,"focus",L),!0)},fe=function(){Re.length&&(me._wD("SoundManager 2: "+Re.join(" "),1),Re=[])},ce=function(){fe();var e,t=[];if(me.useHTML5Audio&&me.hasHTML5){for(e in me.audioFormats)me.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+me.html5[e]+(!me.html5[e]&&Ne&&me.flash[e]?" (using flash)":me.preferFlash&&me.flash[e]&&Ne?" (preferring flash)":me.html5[e]?"":" ("+(me.audioFormats[e].required?"required, ":"")+"and no flash support)"));me._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},p=function(t){if(Te)return!1;if(me.html5Only)return f("sm2Loaded",1),Te=!0,v(),c("onload",!0),!0;var n,o=!0;return me.useFlashBlock&&me.flashLoadTimeout&&!me.getMoviePercent()||(Te=!0),n={type:!le&&Ne?"NO_FLASH":"INIT_TIMEOUT"},me._wD("SoundManager 2 "+(Se?"failed to load":"loaded")+" ("+(Se?"Flash security/load error":"OK")+") "+String.fromCharCode(Se?10006:10003),Se?2:1),Se||t?(me.useFlashBlock&&me.oMC&&(me.oMC.className=W()+" "+(null===me.getMoviePercent()?"swf_timedout":"swf_error")),w({type:"ontimeout",error:n,ignoreInit:!0}),c("onload",!1),E(n),o=!1):c("onload",!0),Se||(me.waitForWindowLoad&&!Pe?(f("waitOnload"),se.add(e,"load",v)):(me.waitForWindowLoad&&Pe&&f("docLoaded"),v())),o},u=function(){var e,n=me.setupOptions;for(e in n)n.hasOwnProperty(e)&&(me[e]===t?me[e]=n[e]:me[e]!==n[e]&&(me.setupOptions[e]=me[e]))},d=function(){if(Te)return f("didInit"),!1;if(me.html5Only)return Te||(se.remove(e,"load",me.beginDelayedInit),me.enabled=!0,p()),!0;S();try{_e._externalInterfaceTest(!1),k(!0,me.flashPollingInterval||(me.useHighPerformance?10:50)),me.debugMode||_e._disableDebug(),me.enabled=!0,c("jstoflash",!0),me.html5Only||se.add(e,"unload",l)}catch(t){return me._wD("js/flash exception: "+t.toString()),c("jstoflash",!1),E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),N(!0),p(),!1}return p(),se.remove(e,"load",me.beginDelayedInit),!0},F=function(){if(H)return!1;H=!0,u(),x();var e=null,e=null,t=ve.toLowerCase();return-1!==t.indexOf("sm2-usehtml5audio=")&&(e="1"===t.charAt(t.indexOf("sm2-usehtml5audio=")+18),ze&&console.log((e?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),me.setup({useHTML5Audio:e})),-1!==t.indexOf("sm2-preferflash=")&&(e="1"===t.charAt(t.indexOf("sm2-preferflash=")+16),ze&&console.log((e?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),me.setup({preferFlash:e})),!le&&me.hasHTML5&&(me._wD("SoundManager 2: No Flash detected"+(me.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),me.setup({useHTML5Audio:!0,preferFlash:!1})),ie(),!le&&Ne&&(Re.push(T.needFlash),me.setup({flashLoadTimeout:1})),Me.removeEventListener&&Me.removeEventListener("DOMContentLoaded",F,!1),S(),!0},ae=function(){return"complete"===Me.readyState&&(F(),Me.detachEvent("onreadystatechange",ae)),!0},I=function(){Pe=!0,F(),se.remove(e,"load",I)},P=function(){Je&&((!me.setupOptions.useHTML5Audio||me.setupOptions.preferFlash)&&Re.push(T.mobileUA),me.setupOptions.useHTML5Audio=!0,me.setupOptions.preferFlash=!1,We||qe&&!we.match(/android\s2\.3/i))&&(Re.push(T.globalHTML5),We&&(me.ignoreFlash=!0),Be=!0)},P(),ue(),se.add(e,"focus",L),se.add(e,"load",M),se.add(e,"load",I),Me.addEventListener?Me.addEventListener("DOMContentLoaded",F,!1):Me.attachEvent?Me.attachEvent("onreadystatechange",ae):(c("onload",!1),E({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!e||!e.document)throw Error("SoundManager requires a browser with window and document objects.");var o=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(o=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(e.soundManager=o,module.exports.SoundManager=n,module.exports.soundManager=o):"function"==typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:n,soundManager:o}}):(e.SoundManager=n,e.soundManager=o)}(window);